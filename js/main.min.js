"use strict";

function gamePlay() {
  enemy = { y: 1e3, dimention: Math.floor(2e3 * Math.random()), mode: !1 }, generateBall(), enemyThink(), setInterval(enemyThink, 1500), setInterval(enemyMove, 20), setInterval(moveBall, 20), setInterval(draw, 20);
}function draw() {
  ctx.fillStyle = "#000", ctx.fillRect(0, 0, 2e3, 2e3), ctx.globalAlpha = .3, ctx.textAlign = "center", ctx.font = "bold 30rem " + main_font, ctx.fillStyle = "#fff", ctx.fillText(score_p, 500, 1100), ctx.fillText(score_e, 1500, 1100), ctx.globalAlpha = 1, ctx.fillStyle = "#fff", ctx.fillRect(100, p_y - p_h / 2, 10, p_h), ctx.fillRect(1900, enemy.y - 250, 10, 500), ctx.fillStyle = "#fff";for (var e = 0; e < ball_list.length; e++) {
    ctx.fillRect(ball_list[e].x - 40, ball_list[e].y - 40, 80, 80);
  }
}function generateBall() {
  if (0 == ball_list.length) {
    var e = { x: 1040, y: 1040, t_x: 0, t_y: 0 };e = setBallSpeed(e), ball_list.push(e);
  }
}function setBallSpeed(e) {
  for (; e.t_x = Math.floor(Math.random() * b_speed - b_speed / 2), e.t_y = Math.floor(Math.random() * b_speed - b_speed / 2), Math.abs(e.t_x) < 8 || Math.abs(e.t_y) < 8;) {}return e;
}function moveBall() {
  for (var e = 0; e < ball_list.length; e++) {
    var n = ball_list[e],
        t = 100 <= n.x - 40 && n.x - 40 <= 120 && p_y - p_h / 2 <= n.y && n.y <= p_y + p_h / 2,
        l = 1900 <= n.x + 40 && n.x + 40 <= 1920 && enemy.y - 250 <= n.y && n.y <= enemy.y + 250;if (t) n.t_x *= -1, enemyThink();else if (l) n.t_x *= -1, enemy.mode = !1;else if (-40 < n.x && n.x < 2040 && (n.y <= 40 || 1960 <= n.y)) n.t_y *= -1;else {
      if (n.x < 0) {
        score_e++, ball_list.splice(e, 1), setTimeout(generateBall, 3e3), enemy.mode = !1;continue;
      }if (2e3 < n.x) {
        score_p++, ball_list.splice(e, 1), setTimeout(generateBall, 3e3), enemy.mode = !1;continue;
      }
    }n.x += n.t_x, n.y += n.t_y;
  }
}function enemyThink() {
  for (var e = 0; e < ball_list.length; e++) {
    var n = ball_list[e];enemy.mode ? enemy.dimention = n.y - 250 : enemy.dimention = Math.floor(2e3 * Math.random());
  }enemy.dimention < 0 && (enemy.dimention = 0), mvm = enemy.mode && 1e3 < Math.abs(enemy.y - 250 - enemy.dimention) ? 0 < enemy.y - 250 - enemy.dimention ? -20 - 10 * Math.random() : 30 + 10 * Math.random() : enemy.y - 250 > enemy.dimention ? -25 : 25;
}function enemyMove() {
  enemy.y - 250 <= 0 || 2e3 <= enemy.y + 250 ? (enemy.y <= 250 ? enemy.y = 270 : enemy.y = 1740, enemyThink()) : enemy.y - 250 == enemy.dimention && enemyThink();for (var e = 0; e < ball_list.length; e++) {
    var n = ball_list[e];1600 < n.x && !enemy.mode ? (enemy.mode = !0, enemyThink()) : n.x < 1600 && (enemy.mode = !1);
  }enemy.y += mvm, console.log(enemy.y + ":" + enemy.dimention + ":" + enemy.mode);
}var p_x,
    p_y,
    enemy,
    canvas,
    ctx,
    ball_list = [],
    b_speed = 40,
    p_h = 500,
    mvm = 0,
    score_p = 0,
    score_e = 0,
    main_font = "imagine_fontregular",
    game_time = 0,
    playing = !1;window.onload = function () {
  canvas = document.getElementById("game-canv"), ctx = canvas.getContext("2d");var n = 2e3 / canvas.offsetWidth;canvas.onmousemove = function (e) {
    p_x = e.offsetX * n, p_y = e.offsetY * n;
  }, gamePlay(), document.getElementById("startBtn").onclick = function () {
    document.getElementById("mainMenu").classList.remove("is-visible"), document.getElementById("mainMenu").classList.add("is-disable"), canvas.classList.add("is-visible"), gamePlay();
  };
};
//# sourceMappingURL=main.min.js.map